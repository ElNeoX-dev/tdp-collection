[Unit]
Description={{ zookeeper_server_service_desc }}
After=network-online.target
Wants=network-online.target

[Service]
Type=forking
User={{ zookeeper_user }}
Group={{ hadoop_group }}
Environment="ZOOCFGDIR={{ zookeeper_server_conf_dir }}"
ExecStart=/opt/tdp/{{ zookeeper_dist_release }}/bin/zkServer.sh start
ExecStop=/opt/tdp/{{ zookeeper_dist_release }}/bin/zkServer.sh stop
SuccessExitStatus=SIGKILL
Restart={{ zk_restart }}

[Install]
WantedBy=default.target
